name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main  # main ë¸Œëœì¹˜ì— pushë  ë•Œ ìë™ ë°°í¬

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20

      - name: Install dependencies
        run: npm ci

      - name: Build project
        run: npm run build

      # ğŸ§‘â€ğŸ’» GitHub Actionsê°€ commit/pushí•  ë•Œ í•„ìš”í•œ ì‚¬ìš©ì ì •ë³´ ì„¤ì •
      - name: Configure git identity
        run: |
          git config --global user.name "skyman200"
          git config --global user.email "skyman200@users.noreply.github.com"

      # ğŸš€ GitHub Pages ë°°í¬
      - name: Deploy to GitHub Pages
        run: npm run deploy

      # (ì„ íƒ) ìºì‹œë¥¼ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ
      # - name: Cache node modules
      #   uses: actions/cache@v4
      #   with:
      #     path: ~/.npm
      #     key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
      #     restore-keys: |
      #       ${{ runner.os }}-node-

