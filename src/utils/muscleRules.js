// 각도 → 근육 타이트/약화/추천 규칙
export function analyzeMuscles({ forwardHead, trunk, knee }) {
  const r = { head: null, trunk: null, knee: null };

  // 1) 전방머리
  if (typeof forwardHead === "number" && forwardHead < 50) {
    r.head = {
      상태: "전방 머리 자세",
      타이트: ["상부 승모근", "견갑거근", "SCM(흉쇄유돌근)"],
      약화: ["심부 경부 굴근", "하부 승모근", "능형근"],
      추천: ["심부 경부 굴근 활성화", "하부 승모근 강화", "SCM/상부승모근 스트레칭"]
    };
  } else {
    r.head = { 상태: "정상", 타이트: [], 약화: [], 추천: [] };
  }

  // 2) 몸통 기울기
  if (typeof trunk === "number") {
    if (trunk > 5) {
      r.trunk = {
        상태: "전방 체간 자세",
        타이트: ["장요근", "요추기립근", "복직근"],
        약화: ["복횡근", "둔근", "햄스트링"],
        추천: ["장요근 스트레칭", "복압-복횡근 호흡 훈련", "둔근 강화"]
      };
    } else if (trunk < -5) {
      r.trunk = {
        상태: "후방 체간 자세",
        타이트: ["둔근", "햄스트링"],
        약화: ["요추기립근", "장요근"],
        추천: ["햄스트링 신장", "복부 안정성 훈련", "고관절 굴/신전 밸런스"]
      };
    } else {
      r.trunk = { 상태: "정상", 타이트: [], 약화: [], 추천: [] };
    }
  }

  // 3) 무릎
  if (typeof knee === "number") {
    if (knee < 175) {
      r.knee = {
        상태: "무릎 굴곡",
        타이트: ["햄스트링", "비복근"],
        약화: ["대퇴사두근"],
        추천: ["햄스트링 스트레칭", "대퇴사두 강화"]
      };
    } else if (knee > 185) {
      r.knee = {
        상태: "무릎 과신전",
        타이트: ["대퇴사두근", "전경골근"],
        약화: ["햄스트링", "비복근"],
        추천: ["햄스트링/비복근 강화", "사두/전경골근 유연성"]
      };
    } else {
      r.knee = { 상태: "정상", 타이트: [], 약화: [], 추천: [] };
    }
  }
  return r;
}

